<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafetyHQ Quick Start</title>
    <style>
        /* Basic Resets and Font */
        :root {
            --brand-color: #0e5814;
            --light-gray: #f4f4f4;
            --medium-gray: #e0e0e0;
            --dark-gray: #333;
            --link-hover-bg: #e9f5ea;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--light-gray);
            color: var(--dark-gray);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Header Styling */
        header {
            background-color: var(--brand-color);
            color: white;
            padding: 1rem 2rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        header h1 {
            font-size: 1.8rem;
            font-weight: 600;
        }

        /* Main Content Layout */
        .main-container {
            display: flex;
            flex: 1;
            flex-direction: row;
            padding: 1.5rem;
            gap: 1.5rem;
            max-width: 1400px;
            width: 100%;
            margin: 0 auto;
        }

        /* Video Player Section */
        .video-player-container {
            flex: 3;
            display: flex;
            flex-direction: column;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
            overflow: hidden;
        }

        #main-video {
            width: 100%;
            height: auto;
            background-color: #000;
        }

        #video-title {
            padding: 1rem 1.5rem;
            font-size: 1.25rem;
            font-weight: 500;
            border-bottom: 1px solid var(--medium-gray);
        }

        /* Video Playlist Section */
        .video-list-container {
            flex: 1;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
        }

        .video-list-container h2 {
            padding: 1rem 1.5rem;
            font-size: 1.25rem;
            border-bottom: 1px solid var(--medium-gray);
        }
       
        #video-list {
            list-style-type: none;
            overflow-y: auto;
            flex: 1;
        }

        #video-list li a {
            display: block;
            padding: 0.8rem 1.5rem;
            text-decoration: none;
            color: var(--dark-gray);
            border-bottom: 1px solid var(--light-gray);
            transition: background-color 0.2s ease-in-out;
            font-weight: 500;
        }

        #video-list li a:hover {
            background-color: var(--link-hover-bg);
        }

        #video-list li a.active {
            background-color: var(--brand-color);
            color: white;
            font-weight: 700;
        }
       
        /* Footer */
        footer {
            text-align: center;
            padding: 1rem;
            background-color: #f8f9fa;
            color: #6c757d;
            font-size: 0.9rem;
            border-top: 1px solid #dee2e6;
        }

        /* Responsive Design */
        @media (max-width: 900px) {
            .main-container {
                flex-direction: column;
            }
            header h1, .video-list-container h2, #video-title {
                font-size: 1.2rem;
            }
        }

    </style>
</head>
<body>

    <header>
        <h1>SafetyHQ Quick Start Support Videos</h1>
    </header>

    <main class="main-container">
        <!-- Video Player -->
        <section class="video-player-container">
            <h2 id="video-title">Loading...</h2>
            <video id="main-video" controls autoplay muted playsinline>
                <!-- The video source will be set by JavaScript -->
                Your browser does not support the video tag.
            </video>
        </section>

        <!-- Video Playlist -->
        <nav class="video-list-container">
            <h2>Video Guides</h2>
            <ul id="video-list">
                <!-- Video links will be generated by JavaScript -->
            </ul>
        </nav>
    </main>
   
    <footer>
        <p>&copy; 2025 SafetyHQ | support@mysafetyhq.com | All rights reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- Configuration ---
            // Add titles for your 14 videos here.
            // The video files should be named video1.mp4, video2.mp4, etc.
            // and placed in a folder named 'videos'.
            const videoData = [
                { title: "1. Logging in to Your SafetyHQ site" },
                { title: "2. How to Reset Your Password" },
                { title: "3. How to Activate Offline Mode" },
                { title: "4. How to Share or Download an SDS" },
                { title: "5. Change App Language" },
                { title: "6. How to Create a Document" },
                { title: "7. How to Conduct a Toolbox Talk" },
                { title: "8. Incident Module: Initial Report" },
                { title: "9. Incident Module: Additional Information" },
                { title: "10. Incident Module: Generate 300A Report" },
                { title: "11. How to Change a Worker Role" },
                { title: "12. How to Create a Certification" },
                { title: "13. How to Assign a Toolbox Talk" },
                { title: "14. How to Assign a Lesson" }
            ];

            // --- Element References ---
            const videoPlayer = document.getElementById('main-video');
            const videoTitleElement = document.getElementById('video-title');
            const videoListElement = document.getElementById('video-list');

            let currentActiveLink = null;

            // --- Functions ---

            /**
             * Populates the video list on the right side.
             */
            function renderVideoList() {
                videoData.forEach((video, index) => {
                    const videoNumber = index + 1;
                    const listItem = document.createElement('li');
                    const link = document.createElement('a');
                    link.href = '#';
                    link.textContent = video.title;
                    // Store the video file path in a data attribute
                    link.dataset.src = `videos/video${videoNumber}.mp4`;
                    link.dataset.title = video.title;
                    link.dataset.index = index;

                    link.addEventListener('click', handleLinkClick);
                   
                    listItem.appendChild(link);
                    videoListElement.appendChild(listItem);
                });
            }

            /**
             * Plays the selected video.
             * @param {number} videoIndex - The 0-based index of the video in the videoData array.
             */
            function playVideo(videoIndex) {
                if (videoIndex < 0 || videoIndex >= videoData.length) {
                    console.error("Invalid video index:", videoIndex);
                    // Optionally play the first video as a fallback
                    videoIndex = 0;
                }

                const video = videoData[videoIndex];
                const videoSrc = `videos/video${videoIndex + 1}.mp4`;

                // Update the video player source
                videoPlayer.src = videoSrc;
                videoPlayer.load();
                videoPlayer.play().catch(error => {
                    console.error("Autoplay was prevented:", error);
                    // The 'controls' attribute on the video tag allows the user to manually play.
                });

                // Update the title
                videoTitleElement.textContent = video.title;
               
                // Update active link styling
                const newActiveLink = videoListElement.querySelector(`a[data-index='${videoIndex}']`);
                if (currentActiveLink) {
                    currentActiveLink.classList.remove('active');
                }
                if (newActiveLink) {
                    newActiveLink.classList.add('active');
                    currentActiveLink = newActiveLink;
                }
            }

            /**
             * Handles clicks on the video links.
             * @param {Event} event - The click event.
             */
            function handleLinkClick(event) {
                event.preventDefault(); // Prevent the link from navigating
                const link = event.currentTarget;
                const videoIndex = parseInt(link.dataset.index, 10);
                playVideo(videoIndex);

                // Update URL for shareability without reloading the page
                const url = new URL(window.location);
                url.searchParams.set('video', videoIndex + 1);
                window.history.pushState({}, '', url);
            }

            /**
             * Initializes the application.
             */
            function initialize() {
                renderVideoList();

                // Check for a video index in the URL query parameters
                const urlParams = new URLSearchParams(window.location.search);
                const videoFromUrl = urlParams.get('video'); // e.g., ?video=5

                let initialVideoIndex = 0; // Default to the first video
                if (videoFromUrl) {
                    const videoNumber = parseInt(videoFromUrl, 10);
                    // Convert from 1-based (in URL) to 0-based (for array)
                    if (videoNumber > 0 && videoNumber <= videoData.length) {
                        initialVideoIndex = videoNumber - 1;
                    }
                }

                playVideo(initialVideoIndex);
            }

            // --- Start the App ---
            initialize();
        });
    </script>

</body>
</html>
